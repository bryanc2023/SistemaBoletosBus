<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout/layout2 :: head">

</head>

<body>
	<link rel="stylesheet" th:href="@{/css/pasajero/listar_asientos.css}" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" th:href="@{/Administrador/style2.css}" />
	<header th:replace="layout/layout2:: header">
		
	</header>
	
	<section id="clients" class="clients section-bg">
			<div class="container">

				<div class="row" data-aos="zoom-in">

					<div
						class="col-lg-2 col-md-4 col-6 d-flex align-items-center justify-content-center">
						<img src="assets/img/clients/client-1.png" class="img-fluid"
							alt="">
					</div>

					<div
						class="col-lg-2 col-md-4 col-6 d-flex align-items-center justify-content-center">
						<img src="assets/img/clients/client-2.png" class="img-fluid"
							alt="">
					</div>

					<div
						class="col-lg-2 col-md-4 col-6 d-flex align-items-center justify-content-center">
						<img src="assets/img/clients/client-3.png" class="img-fluid"
							alt="">
					</div>

					<div
						class="col-lg-2 col-md-4 col-6 d-flex align-items-center justify-content-center">
						<img src="assets/img/clients/client-4.png" class="img-fluid"
							alt="">
					</div>

					<div
						class="col-lg-2 col-md-4 col-6 d-flex align-items-center justify-content-center">
						<img src="assets/img/clients/client-5.png" class="img-fluid"
							alt="">
					</div>

					<div
						class="col-lg-2 col-md-4 col-6 d-flex align-items-center justify-content-center">
						<img src="assets/img/clients/client-6.png" class="img-fluid"
							alt="">
					</div>

				</div>

			</div>
		</section>
	
	
		
		<section id="services" class="services section-bg">
			
			<div class="container" data-aos="fade-up">
	
    <div class="uni">
						
	<div class="section-title">
	
					<h2>Escoge tus asientos</h2>
					<small style="font-weight: bold;">Estamos pronto a arrancar, ten en cuenta lo siguiente:</small>
					<br>
					<small>- No puedes escoger más asientos del máximo establecido por el administrador</small>
					<br>
					<small>- Fijate detenidamente en los asientos disponibles y cuales no</small>
				</div>
    </div>
			</section>
<section id="about" class="about">
			<div class="container" data-aos="fade-up">

				<div class="section-title">
					<h2>Acerca de este viaje</h2>
				</div>

				<div class="row content">
					<div class="col-lg-6">
						<div class="card h-100 " th:each="dato: ${datos}">
		<div class="card-body ">
			<p class="card-text">
				Unidad: <span th:text="${dato[0]}"></span>
			</p>
			<p class="card-text">
				Cooperativa: <span th:text="${dato[1]}"></span>
			</p>
			<p class="card-text">
				Fecha: <span th:text="${dato[2]}"></span>
			</p>
			<p class="card-text">
				Hora: <span th:text="${dato[3]}"></span>
			</p>
			<p class="card-text">
				Origen: <span th:text="${dato[4]}"></span>
			</p>
			<p class="card-text">
				Destino: <span th:text="${dato[5]}"></span>
			</p>
			
		</div>
		<i class="fa fa-bus " aria-hidden="true" style="font-size: 5em;"></i>
		 
     </div>
					</div>
					<div class="col-lg-6 pt-4 pt-lg-0">
						<div class="asient">
    <div class="card h-100 text-center">
        <div class="card-body d-flex justify-content-center align-items-center flex-column">
            <p>Asientos Disponibles: <span class="disponible"></span></p>
            <p>Asientos Ocupados: <span class="ocupado"></span></p>
        </div>
    </div>
</div>
<div class="m-3"></div>
  <center><div  th:each="dato: ${datos}">
	<form th:action="@{'/asientos/guardarReserva/' + ${dato[6]}}" method="post">
                              </div>    
                                    <button type="submit" class="btn btn-primary">
										Realizar reserva
									</button>
                                </form>
                                
                                </center>
<center>
<div class="m-3"></div>



 <center><div  th:each="dato: ${datos}">
	<form th:action="@{'/asientos/cancelarReserva/' + ${dato[6]}}" method="post">
                                 
                                    <button type="submit" class="btn btn-danger">
										Cancelar reserva
									</button>
                                </form>
                                </div>
                                </center>
                                </center>
                                <div class="m-3"></div>
                                <div class="m-3"></div>
                               <div class="alert alert-success" th:if="${success != null}" th:text="${success}"></div>
    <div class="alert alert-danger" th:if="${error != null}" th:text="${error}"></div>
    <div class="alert alert-warning" th:if="${warning != null}" th:text="${warning}"></div>
    <div class="alert alert-info" th:if="${info != null}" th:text="${info}"></div>
        </div>
        </div>
					</div>
				</div>

			</div>
			</div>
			</div>
		</section>
	
     
    
</div>
<div class="card-header" th:text="${titulo}"></div>


<div class="asient2">
        <div class="container py-4">
    <div class="row">
        <div class="col-md-3">
            <div class="card bg-light">
                <div class="card-body" style="width: 100px;">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ventana</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="asiento: ${asientos}">
                                <td th:text="${asiento.fila + asiento.columna}"
                                    th:style="'background-color: ' + (${asiento.estado != null && asiento.estado == 'Ocupado' ? 'red' : '#e6f6f7'})">
                                </td>
                                <td>
                                    <form th:action="@{'/asiento/' + ${asiento.id} + '/actualizarEstado'}" method="post">
                                        <button type="submit" th:class="'btn btn-secondary btn-xs btn-estado btn-' + ${asiento.estado}"
                                            th:text="${asiento.estado == 'Disponible' ? 'Seleccionar' : 'Deseleccionar'}"
                                            th:disabled="${asiento.estado == 'Ocupado'}"
                                            th:style="'background-color: ' + (${asiento.estado != null && asiento.estado == 'Disponible' ? 'green' : 'gray'})">
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card bg-light">
                <div class="card-body">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Pasillo</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="asiento2: ${asientos2}">
                                <td th:text="${asiento2.fila + asiento2.columna}"
                                    th:style="'background-color: ' + (${asiento2.estado != null && asiento2.estado == 'Ocupado' ? 'red' : '#e6f6f7'})">
                                </td>
                                <td>
                                    <form th:action="@{'/asiento/' + ${asiento2.id} + '/actualizarEstado'}" method="post">
                                        <button type="submit" th:class="'btn btn-secondary btn-xs btn-estado btn-' + ${asiento2.estado}"
                                            th:text="${asiento2.estado == 'Disponible' ? 'Seleccionar' : 'Deseleccionar'}"
                                            th:disabled="${asiento2.estado == 'Ocupado'}"
                                            th:style="'background-color: ' + (${asiento2.estado != null && asiento2.estado == 'Disponible' ? 'green' : 'gray'})">
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card bg-light">
                <div class="card-body">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Pasillo</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="asiento3: ${asientos3}">
                                <td th:text="${asiento3.fila + asiento3.columna}"
                                    th:style="'background-color: ' + (${asiento3.estado != null && asiento3.estado == 'Ocupado' ? 'red' : '#e6f6f7'})">
                                </td>
                                <td>
                                    <form th:action="@{'/asiento/' + ${asiento3.id} + '/actualizarEstado'}" method="post">
                                        <button type="submit" th:class="'btn btn-secondary btn-xs btn-estado btn-' + ${asiento3.estado}"
                                            th:text="${asiento3.estado == 'Disponible' ? 'Seleccionar' : 'Deseleccionar'}"
                                            th:disabled="${asiento3.estado == 'Ocupado'}"
                                            th:style="'background-color: ' + (${asiento3.estado != null && asiento3.estado == 'Disponible' ? 'green' : 'gray'})">
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card bg-light">
                <div class="card-body">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Ventana</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="asiento4: ${asientos4}">
                                <td th:text="${asiento4.fila + asiento4.columna}"
                                    th:style="'background-color: ' + (${asiento4.estado != null && asiento4.estado == 'Ocupado' ? 'red' : '#e6f6f7'})">
                                </td>
                                <td>
                                    <form th:action="@{'/asiento/' + ${asiento4.id} + '/actualizarEstado'}" method="post">
                                        <button type="submit" th:class="'btn btn-secondary btn-xs btn-estado btn-' + ${asiento4.estado}"
                                            th:text="${asiento4.estado == 'Disponible' ? 'Seleccionar' : 'Deseleccionar'}"
                                            th:disabled="${asiento4.estado == 'Ocupado'}"
                                            th:style="'background-color: ' + (${asiento4.estado != null && asiento4.estado == 'Disponible' ? 'green' : 'gray'})">
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

            <div class="m-3"></div>

        </div>
         </div>
		</section>



</main>
		


	<!-- Footer -->
	<footer th:replace="layout/layout2 :: footer"></footer>
	<script th:src="@{vendor/jquery/jquery.min.js}"></script>
	<script th:src="@{vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/js/pasajero/home.js}"></script>
</body>

</html>